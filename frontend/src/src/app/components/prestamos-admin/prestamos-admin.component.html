<div class="cart-container">
    <div class="cart-header">
        <h1 class="cart-title">Prestamos</h1>
        <div *ngIf="var_rol == 'user'" class="circle-plus-cart" routerLink="/add-review"><h2>+</h2></div>
    </div>

    <div class="user-card text-black text-center background-transparent mb-3" style=" margin-top: 5%;;">
        <div class="row g-0" style ="margin-top: 5%; margin-bottom: 5%" *ngFor="let prestamo of paginatedPrestamos">
            <div class="col-4">
                <img src="{{prestamo.usuarios.imagen}}" class="user-photo" alt="Usuario">
            </div>
            <div class="col-8">
                <div class="user-card-body" style="padding: 5%; background-color: white; border-color: #483fa9 ; border-radius: 5%; ">
                    <h5 class="user-card-title">{{prestamo.usuarios.nombre_completo}}</h5>
                    <p class="user-card-text">{{prestamo.usuarios.dni}}</p>
                    <p class="user-card-text">Préstamos: {{ countPrestamosByUser(prestamo.usuarios.id_usuario) }}</p>
                    <p class="user-card-text">Préstamos Vencidos: {{countPrestamosVencidosByUser(prestamo.usuarios.id_usuario) }}</p>
                    <a routerLink="/info_prestamo/{{prestamo.id_prestamo}}" class="button-primary button" style = "background-color: #483fa9;">Ver más</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Pagination controls -->
    <div class="row mt-4">
        <div class="col-12 d-flex justify-content-between align-items-center pagination-controls">
            <button class="btn btn-primary" (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1">Anterior</button>
            <span>Página {{ currentPage }} de {{ totalPages }}</span>
            <button class="btn btn-primary" (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages">Siguiente</button>
        </div>
    </div>

</div>